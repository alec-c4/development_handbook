# Code Review

## Цели code review

- Повышение качества кода и продукта
- Распространение знаний внутри команды
- Обнаружение ошибок на ранних стадиях
- Обеспечение соответствия стандартам и гайдлайнам
- Улучшение архитектурной целостности

## Принципы code review

- Уважение и конструктивность - фокус на коде, не на авторе
- Своевременность - проверка кода должна выполняться быстро, чтобы не задерживать разработку
- Тщательность - качество проверки важнее скорости
- Обучение - code review должен помогать разработчикам расти
- Общая ответственность - код принадлежит всей команде, а не отдельным авторам

## Процесс code review

1. Подготовка кода к проверке

   - Автор обеспечивает соответствие кода стандартам
   - Код проходит автоматизированные проверки (линтеры, тесты)
   - Создается Pull Request с подробным описанием изменений

2. Назначение ревьюеров

   - Минимум два ревьюера на каждый PR
   - Один ревьюер - технический лид или старший разработчик
   - Второй ревьюер - разработчик из смежной области

3. Проведение review

   - Максимальное время ожидания review - 24 часа
   - Оптимальный размер кода для проверки - до 400 строк
   - Большие изменения должны разбиваться на несколько PR

4. Обработка замечаний

   - Автор обязан отреагировать на все замечания
   - Несогласие с замечаниями должно обсуждаться в комментариях
   - При неразрешимых разногласиях решение принимает технический лид

5. Принятие кода
   - Необходимо положительное заключение от всех ревьюеров
   - Автоматизированные тесты должны проходить успешно
   - После принятия кода автор выполняет слияние с основной веткой

## Чек-лист для code review

1. Функциональность

   - Код реализует требуемую функциональность
   - Обработаны все граничные случаи
   - Реализация соответствует спецификации

2. Качество кода

   - Соответствие принципам SOLID
   - Отсутствие дублирования
   - Понятные имена переменных и методов
   - Комментарии к сложным участкам кода

3. Тесты

   - Достаточное покрытие тестами (минимум 85%)
   - Проверка граничных случаев
   - Отсутствие хрупких тестов
   - Наличие не только позитивных, но и негативных сценариев. Корректная обработка ошибок

4. Производительность

   - Эффективные алгоритмы и структуры данных
   - Оптимизация запросов к БД
   - Отсутствие N+1 проблем

5. Безопасность
   - Валидация входных данных
   - Защита от распространенных уязвимостей
   - Безопасная обработка конфиденциальных данных

## Метрики code review

1. Время цикла - среднее время от создания PR до его слияния
2. Объем изменений - среднее количество строк кода в PR
3. Покрытие комментариями - среднее количество комментариев на PR
4. Время до первого отклика - среднее время до первого комментария
